#ЭВМ 

**Прерывания и исключения** представляют собой принудительную передачу управления задаче или процедуре.

Схема прерывания:

![[Pasted image 20230114161502.png]]

Прерывания делятся на **программные** и **аппаратные**. 

Аппаратные прерывания происходят в произвольные моменты времени. С их помощью происходит взаимодействие процессора с внешними устройствами (клавиатурой, дисками и т.д.). 

Программные прерывания обслуживают условия, обнаруженные процессором во время выполнения команд. Подразделяются на **сбой**, **ловушку** и **аварию**. 
- **Сбой** - особый случай, выявляемый и обслуживаемый перед выполнением команды. После обработки сбоя производится повторное выполнение команды.
  Пример: обращение к незагруженной в ОП странице.
- **Ловушка** - особый случай, возникающий после выполнения команды. После обработки производится действие, следующее за командой. 
  Пример: переход к подпрограмме, вызванной программистом.
- **Авария** - ошибка с невозможностью продолжения программы.

С точки зрения возможности отмены прерываний подразделяют **маскируемые** и **немаскируемые**. 
Маскируемые прерывания принимаются на вход **INTR**. Их можно отключить, подав влаг IF = 0.
Немаскируемые прерывания принимаются на вход **NMI**. Их нельзя игнорировать. Например [[Циклы регенерации ЭВМ|цикл регенерации]].

 Реагируя на прерывания [[процессор]] должен:
 - Определить источник прерывания
 - Сохранить минимальный контекст текущей программы (Адрес возврата).
 - Переключиться на обработчик прерывания.
 - После обслуживания прерывания вернуться к исполняемой программе.

## Полезные ссылки:
[[Идентификация прерывающего устройства]]