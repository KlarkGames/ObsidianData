#ЭВМ 

Размер команды в [[32-разрядная адресация|32-битных]] процессоров ограничен размером до 16 байт. 

Команда может включать в себя префикс. **Префикс** это байт со специальным кодированием, модифицирующий операцию следующей за ним команды.

Структура формата команд:
![[Pasted image 20230114141103.png]]

Формат включает в себя:
- 1-2 Байта под код операции
	- Бит d отвечает за направление передачи данных. ![[Pasted image 20230114142430.png]]
	- Бит w  отвечает за размер операнда. ![[Pasted image 20230114142526.png]]
- Спецификатор адреса ModR/M
	- Поле mod задается 2 битами
		- Если поле равно 11, то второй операнд находится в регистре. Его адрес задается полем r/m, вместо поля reg
		- Если поле не равно 11, то второй операнд находится в оперативной памяти. Тогда поля mod и r/m задают формирование адреса согласно **таблице эффективного адреса**.
	- Поле reg задает адрес регистра первого операнда
	- Поле r/m задает адрес регистра второго операнда или участвует в формировании эффективного адреса второго операнда.
- Спецификатор адреса SIB
	- Поле ss - сдвиг индексного слова перед сложением. От 0 до 3 сдвигов.
	- Поле index - определяет РОН, использующийся как индексный регистр
	- Поле base - определяет РОН, использующийся как базовый регистр
- Смещение
- Операнд

Префикс включает в себя:
- Префикс повторения. Используется в цепочечных командах, ускоряет их обработку.
- Префикс размера адреса. Переключает 16 и 32-битные адреса.
- Префикс размера операнда. Переключает 16 и 32-битные операнды.
- Замена сегментации. Явно задает сегментный регистр, вместо принимаемого по умолчанию.

### Таблица эффективного адреса

![[Pasted image 20230114143149.png]]
